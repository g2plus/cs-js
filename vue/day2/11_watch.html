<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Document</title>
    <script src="js/vue.js"></script>
    <script src="js/jquery-1.12.4.js"></script>
    <script>
        //模拟从数据库中取出的数据
        var list = ["audio/1.mp3"];
        $(function () {

            var data = {
                message: "It's you!"
            }
            var vm = new Vue({
                el: '#app',
                data() {
                    return data
                },
                methods: {
                    //change:function(){} change(){}
                    change: function () {
                        //data的属性message由自定义对象传入，使用vm.message="" 进行修改属性值。
                        this.message = "Henry!";
                    },
                    pause: function () {
                        audio.stop();
                    }
                }
            })

            var audio = $("#player").get(0);


            // $watch is an instance method(vue实列监控属性message变化，然后触发的函数)
            vm.$watch('message', function (newValue, oldValue) {
                console.log("starts to play music!!!");
                audio.play();
            })


        })
    </script>
</head>

<body>

<div id="app">
    {{message}}
    <br/>
    <!--标签中绑定函数的方法--->
    <button @click="change">start playing music</button>
    <!--v-model 模型数据的通信-->
    <input v-model="message">
    <audio controls="controls" id="player" loop="loop" src="asset/music.mp3" style="display: none;"></audio>
</div>


</body>

</html>
